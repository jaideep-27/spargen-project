const User = require("./src/models/user.model"); const mongoose = require("mongoose"); require("dotenv").config(); mongoose.connect(process.env.MONGODB_URI || "mongodb+srv://amarabadjayadeep:sj986625@cluster0.uuwpnzu.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0").then(async () => { const adminExists = await User.findOne({ email: "admin@jewelryshop.com" }); if (!adminExists) { const admin = new User({ firstName: "Admin", lastName: "User", email: "admin@jewelryshop.com", password: "admin123", role: "admin" }); await admin.save(); console.log("Admin user created successfully"); } else { console.log("Admin user already exists"); } process.exit(); }).catch(err => console.error(err));
